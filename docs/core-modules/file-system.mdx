# File System 模块

File System（文件系统）模块（通常简称为 fs 模块）是 Node.js 中的一个核心模块，用于处理计算机文件系统的各种操作。它允许你在 Node.js 环境中进行文件的读取、写入、更改、删除等操作，以及与文件和目录进行交互。

所有文件系统操作都具有同步、回调和基于 Promise 的形式，并且可以使用 CommonJS 语法和 ES6 模块 (ESM) 进行访问。

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs>
  <TabItem value="同步示例">

    同步 API 会阻止 Node.js 事件循环和进一步的 JavaScript 执行，直到操作完成。异常会立即抛出，并可以使用 `try/catch` 进行处理，或者可以允许冒泡。

    ```js
    import { unlinkSync } from "node:fs";

    try {
      unlinkSync("hello.txt");
      console.log("成功删除 hello.txt");
    } catch (err) {
      // handle the error
      console.error(err);
    }
    ```

  </TabItem>
  <TabItem value="回调示例">

    回调形式将完成回调函数作为其最后一个参数，并异步调用该操作。传递给完成回调的参数取决于方法，但第一个参数始终保留用于异常。如果操作成功完成，则第一个参数是 null 或 undefined 。

    ```js
    import { unlink } from 'node:fs';

    unlink('hello.txt', (err) => {
      if (err) throw err;
      console.log('成功删除 hello.txt');
    });
    ```

    当需要最大性能（在执行时间和内存分配方面）时， `node:fs` 模块 API 的基于回调的版本比使用 Promise API 更可取。

  </TabItem>
  <TabItem value="Promise 示例">

    基于 Promise 的操作返回一个 Promise，该 Promise 在异步操作完成时会得到满足。

    ```js
    import { unlink } from 'node:fs/promises';

    try {
      await unlink('hello.txt');
      console.log('成功删除 hello.txt');
    } catch (error) {
      console.error('there was an error:', error.message);
    }
    ```

  </TabItem>
</Tabs>
